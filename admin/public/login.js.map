{"version":3,"sources":["login.js"],"names":["loginurl","login","Vue","el","data","input_username","input_password","username","password","message","created","getData","methods","fetch","then","res","json","catch","err","console","log","log_in","event","localStorage","setItem","location","replace"],"mappings":"AAAA,a,CAEA;;AACA,IAAIA,QAAQ,GAAG,iDAAf,C,CAEA;;AACA,IAAIC,KAAK,GAAG,IAAIC,GAAJ,CAAQ;AAChBC,EAAAA,EAAE,EAAE,QADY;AAEhBC,EAAAA,IAAI,EAAE;AACFC,IAAAA,cAAc,EAAE,EADd;AAEFC,IAAAA,cAAc,EAAE,EAFd;AAGFC,IAAAA,QAAQ,EAAE,EAHR;AAIFC,IAAAA,QAAQ,EAAE,EAJR;AAKFC,IAAAA,OAAO,EAAE;AALP,GAFU;;AAUhBC,EAAAA,OAAO,GAAG;AACN,SAAKC,OAAL;AACH,GAZe;;AAahBC,EAAAA,OAAO,EAAE;AACLD,IAAAA,OAAO,EAAE,YAAW;AAAE;AAClBE,MAAAA,KAAK,CAACb,QAAQ,GAAC,MAAV,CAAL,CACCc,IADD,CACOC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADf,EAECF,IAFD,CAEOV,IAAD,IAAU;AAAE;AACd,aAAKG,QAAL,GAAgBH,IAAI,CAAC,CAAD,CAAJ,CAAQG,QAAxB;AACA,aAAKC,QAAL,GAAgBJ,IAAI,CAAC,CAAD,CAAJ,CAAQI,QAAxB;AACH,OALD,EAMCS,KAND,CAMQC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CANhB;AAOH,KATI;AAULG,IAAAA,MAAM,EAAE,UAASC,KAAT,EAAgB;AAAE;AACF;AACpB,UAAI,KAAKf,QAAL,IAAiB,KAAKF,cAAtB,IAAwC,KAAKG,QAAL,IAAiB,KAAKF,cAAlE,EAAkF;AAC9EiB,QAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiC,KAAKjB,QAAtC;AACAkB,QAAAA,QAAQ,CAACC,OAAT,CAAiB,YAAjB;AACH,OAHD,MAGO;AACH,aAAKjB,OAAL,GAAe,0CAAf,CADG,CACwD;AAC9D;AACJ;AAlBI;AAbO,CAAR,CAAZ","sourcesContent":["\"use strict\";\r\n\r\n//URL till webbtjänst\r\nlet loginurl = \"https://sleepy-tundra-34734.herokuapp.com/login\";\r\n\r\n// Ny instans av Vue\r\nlet login = new Vue({\r\n    el: '#login',\r\n    data: {\r\n        input_username: \"\",\r\n        input_password: \"\",\r\n        username: \"\",\r\n        password: \"\",\r\n        message: \"\"\r\n        \r\n    },\r\n    created() {\r\n        this.getData();\r\n    },\r\n    methods: {\r\n        getData: function() { // Hämtar användarnamn och lösenord som finns lagrat i databasen\r\n            fetch(loginurl+\"/get\")\r\n            .then((res) => res.json())\r\n            .then((data) => { // Lagrar hämtade datan i variabler i Vue:s data\r\n                this.username = data[0].username;\r\n                this.password = data[0].password;   \r\n            })\r\n            .catch((err) => console.log(err));\r\n        },\r\n        log_in: function(event) { // Kontrollerar användarnamn och lösen från inloggningsformuläret och \r\n                                // loggar in användare om dessa stämmer överens med inloggningsuppgifterna hämtade från databasen\r\n            if (this.username == this.input_username && this.password == this.input_password) {\r\n                localStorage.setItem(\"username\", this.username);\r\n                location.replace(\"admin.html\");\r\n            } else {\r\n                this.message = \"Användarnamn eller lösenord är felaktigt\"; // Felmeddelande\r\n            }\r\n        }\r\n    }\r\n});"],"file":"login.js"}